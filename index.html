<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dairy Yield Calculator â€“ Traditional Products</title>
<style>
    body { font-family: Arial, sans-serif; background: #fdfdfd; padding: 20px; max-width: 800px; margin: auto; }
    h1 { color: #2b3a67; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    input, select, button { padding: 8px; margin-top: 5px; width: 100%; max-width: 300px; }
    .output-box { margin-top: 25px; padding: 15px; background: #eef; border-radius: 8px; }
    .standard { margin-top: 10px; background: #ffd; padding: 10px; border-left: 5px solid orange; }
    .formula { margin-top: 10px; background: #e0ffe0; padding: 10px; border-left: 5px solid green; }
    .adjustments { margin-top: 10px; background: #f0f0f0; padding: 10px; border-left: 5px solid #666; }
    footer { margin-top: 40px; padding: 15px; background: #f0f0f0; text-align: center; border-top: 1px solid #ccc; }
    a.flow-link { display: inline-block; margin-top: 10px; padding: 8px 12px; background: #2b3a67; color: white; text-decoration: none; border-radius: 5px; }
    a.flow-link:hover { background: #1d2749; }
</style>
</head>
<body>

<h1>ðŸ§® Dairy Yield Calculator â€“ Traditional Indian Products</h1>

<p><b>Developed by:</b> Harsh Tiwari<br>
B.Tech in Dairy Technology â€“ West Bengal University of Animal & Fishery Sciences, Kolkata<br>
<em>This tool estimates the yield of traditional dairy products using milk composition data and standard formulas from Agrimoon eCourse.</em></p>
<p><b>Purpose:</b> Educational/demo use and rough production planning. For actual production, validate with lab trials and real process data.</p>

<label for="milkQty">Milk Quantity (Litres):</label>
<input type="number" id="milkQty">

<label for="fat">Fat %:</label>
<input type="number" id="fat">

<label for="snf">SNF %:</label>
<input type="number" id="snf">

<label for="milkType">Milk Type:</label>
<select id="milkType">
  <option value="cow">Cow</option>
  <option value="buffalo">Buffalo</option>
  <option value="mixed">Mixed</option>
</select>

<label for="product">Product:</label>
<select id="product">
  <option value="paneer">Paneer</option>
  <option value="ghee">Ghee</option>
  <option value="dahi">Dahi</option>
  <option value="khoa">Khoa</option>
  <option value="chhena">Chhena</option>
  <option value="rasgulla">Rasgulla</option>
  <option value="pedha">Pedha</option>
  <option value="burfi">Burfi</option>
  <option value="rabri">Rabri</option>
  <option value="shrikhand">Shrikhand</option>
  <option value="lassi">Lassi</option>
  <option value="icecream">Ice Cream</option>
</select>

<label for="moisture">Optional: Moisture Content (%)</label>
<input type="number" id="moisture">

<label for="lossCoeff">Loss Coefficient (%)</label>
<input type="number" id="lossCoeff">

<label for="processMethod">Processing Method:</label>
<select id="processMethod">
  <option value="">--Select--</option>
  <option value="traditional">Traditional</option>
  <option value="semi">Semi-mechanized</option>
  <option value="mechanized">Mechanized</option>
</select>

<label for="tempCorrection">Temperature/Process Correction (%)</label>
<input type="number" id="tempCorrection">

<button onclick="calculateYield()">Calculate Yield</button>

<div class="output-box" id="result" style="display:none;"></div>
<script>
function calculateYield() {
    const qty = parseFloat(document.getElementById('milkQty').value) || 0;
    const fat = parseFloat(document.getElementById('fat').value) || 0;
    const snf = parseFloat(document.getElementById('snf').value) || 0;
    const milkType = document.getElementById('milkType').value;
    const product = document.getElementById('product').value;

    const moisture = parseFloat(document.getElementById('moisture').value);
    const lossCoeff = parseFloat(document.getElementById('lossCoeff').value);
    const processMethod = document.getElementById('processMethod').value;
    const tempCorrection = parseFloat(document.getElementById('tempCorrection').value);

    let yieldVal = 0;
    let formulaText = "";
    let fssaiText = "";

    switch(product) {
        case "paneer":
            const kPaneer = milkType === "buffalo" ? 1.3 : 1.1;
            yieldVal = qty * ((fat + snf) / 100) * kPaneer;
            formulaText = `Yield = Qty Ã— ((Fat + SNF) / 100) Ã— ${kPaneer}`;
            fssaiText = "FSSAI: Fat â‰¥ 50% (on dry matter), Moisture â‰¤ 60%";
            break;
        case "ghee":
            yieldVal = qty * (fat / 100) * 0.82;
            formulaText = "Yield = Qty Ã— (Fat / 100) Ã— 0.82";
            fssaiText = "FSSAI: Fat â‰¥ 99.5%, Moisture â‰¤ 0.5%";
            break;
        case "dahi":
            yieldVal = qty * 1.1;
            formulaText = "Yield = Qty Ã— 1.1";
            fssaiText = "FSSAI: Min Fat: 3.0% (standard), SNF â‰¥ 8.5%";
            break;
        case "khoa":
            yieldVal = qty * ((fat + snf) / 100) * 0.9;
            formulaText = "Yield = Qty Ã— ((Fat + SNF) / 100) Ã— 0.9";
            fssaiText = "FSSAI: Moisture content varies (Dhap: 40%, Danedar: 20%, Pindi: 15%)";
            break;
        case "chhena":
            yieldVal = qty * ((fat + snf) / 100) * 0.95;
            formulaText = "Yield = Qty Ã— ((Fat + SNF) / 100) Ã— 0.95";
            fssaiText = "FSSAI: Similar to paneer, higher moisture allowed";
            break;
        case "rasgulla":
            yieldVal = qty * ((fat + snf) / 100) * 1.1;
            formulaText = "Yield = Qty Ã— ((Fat + SNF) / 100) Ã— 1.1";
            fssaiText = "FSSAI: Moisture â‰¤ 50%, Fat â‰¥ 5% (on dry matter)";
            break;
        case "pedha":
            yieldVal = qty * ((fat + snf) / 100) * 0.75;
            formulaText = "Yield = Qty Ã— ((Fat + SNF) / 100) Ã— 0.75";
            fssaiText = "FSSAI: Milk solids â‰¥ 65%, sugar varies";
            break;
        case "burfi":
            yieldVal = qty * ((fat + snf) / 100) * 0.8;
            formulaText = "Yield = Qty Ã— ((Fat + SNF) / 100) Ã— 0.8";
            fssaiText = "FSSAI: Khoa + sugar, min 60% solids";
            break;
        case "rabri":
            yieldVal = qty * 0.25;
            formulaText = "Yield = Qty Ã— 0.25";
            fssaiText = "FSSAI: Traditional product, no fixed standard";
            break;
        case "shrikhand":
            yieldVal = qty * 0.4;
            formulaText = "Yield = Qty Ã— 0.4";
            fssaiText = "FSSAI: Fat â‰¥ 8.5%, sugar 40â€“45%";
            break;
        case "lassi":
            yieldVal = qty * 1.05;
            formulaText = "Yield = Qty Ã— 1.05";
            fssaiText = "FSSAI: Min fat: 0.8%, SNF â‰¥ 6.0%";
            break;
        case "icecream":
            yieldVal = qty * ((fat + snf) / 100) * 1.4;
            formulaText = "Yield = Qty Ã— ((Fat + SNF) / 100) Ã— 1.4";
            fssaiText = "FSSAI: Fat â‰¥ 10%, total solids â‰¥ 36% (full cream)";
            break;
    }

    // Optional adjustments
    let adjustments = [];
    if (!isNaN(moisture)) {
        yieldVal = yieldVal * (100 - moisture) / 100;
        adjustments.push(`Moisture Content: ${moisture}%`);
    }
    if (!isNaN(lossCoeff)) {
        yieldVal = yieldVal * (1 - (lossCoeff / 100));
        adjustments.push(`Loss Coefficient: ${lossCoeff}%`);
    }
    if (processMethod) {
        const methodFactors = { traditional: 0.95, semi: 0.98, mechanized: 1.0 };
        yieldVal = yieldVal * (methodFactors[processMethod] || 1);
        adjustments.push(`Processing Method: ${processMethod}`);
    }
    if (!isNaN(tempCorrection)) {
        yieldVal = yieldVal * (1 - (tempCorrection / 100));
        adjustments.push(`Temp/Process Correction: ${tempCorrection}%`);
    }

    const flowLinks = {
        paneer: "https://niftem.ac.in/newsite/pmfme/wp-content/uploads/2022/07/Paneer-Writeup.pdf",
        ghee: "https://niftem.ac.in/newsite/pmfme/wp-content/uploads/2022/08/ppt_ghee-processing.pdf",
        dahi: "https://niftem.ac.in/newsite/pmfme/wp-content/uploads/2022/08/Dahi-Writeup.pdf",
        khoa: "https://niftem.ac.in/newsite/pmfme/wp-content/uploads/2022/07/Khoa-Writeup.pdf",
        chhena: "https://egyankosh.ac.in/bitstream/123456789/9526/1/Unit-6.pdf",
        rasgulla: "https://www.researchgate.net/figure/Flow-chart-for-rasgulla-preparation-Critical-steps-were-coagulating-condition_fig1_344680281",
        pedha: "https://niftem.ac.in/newsite/pmfme/wp-content/uploads/2022/08/Peda-Writeup.pdf",
        burfi: "https://www.researchgate.net/figure/Process-flow-diagram-for-the-manufacture-of-soya-enriched-burfi_fig1_383168267",
        rabri: "https://ebooks.inflibnet.ac.in/ftp04/chapter/fermented-traditional-indian-dairy-products-dahi-lassi-shrikhand-2/",
        shrikhand: "https://ebooks.inflibnet.ac.in/ftp04/chapter/fermented-traditional-indian-dairy-products-dahi-lassi-shrikhand-2/",
        lassi: "https://www.researchgate.net/figure/Flowchart-for-mechanized-production-of-Lassi_fig4_318304803",
        icecream: "https://niftem-t.ac.in/pmfme/icecream-DPR.pdf"
    };

    let html = `<h2>ðŸ“¦ Estimated Yield: ${yieldVal.toFixed(2)} kg</h2>`;
    html += `<div class="formula"><b>Formula Used:</b> ${formulaText}</div>`;
    html += `<div class="standard"><b>${fssaiText}</b></div>`;
    if (adjustments.length > 0) {
        html += `<div class="adjustments"><b>Adjustments Applied:</b> ${adjustments.join(", ")}</div>`;
    }
    html += `<a class="flow-link" href="${flowLinks[product]}" target="_blank">ðŸ“„ View Flow Chart</a>`;

    document.getElementById('result').style.display = 'block';
    document.getElementById('result').innerHTML = html;
}
</script>

<div style="margin-top:30px; background:#fff3cd; padding:15px; border-radius:5px;">
<b>Factors NOT Considered (But Important):</b>
<ul>
    <li>Milk freshness & acidity</li>
    <li>Processing conditions (temperature, pH, time, stirring)</li>
    <li>Coagulant type & quantity</li>
    <li>Straining & pressing method</li>
    <li>Breed & season of animals</li>
    <li>Water addition/loss during processing</li>
    <li>Equipment & operator skill</li>
</ul>
<p><b>Conclusion:</b> This calculator is for educational/demo purposes. For real-world dairy production, validate with actual data and lab results.</p>
</div>

<footer>
<p>Created by Harsh Tiwari | B.Tech Dairy Technology | West Bengal University of Animal & Fishery Sciences, Kolkata</p>
</footer>

</body>
</html>
